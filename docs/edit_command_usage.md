# Table of Contents
- [Overview](#tbg-edit-[arg])
- [Subcommands](#subcommands)
- [Valid Flags](#valid-flags)
- [Walkthroughs](#walkthroughs)
    - [Editing single paths](#editing-single-paths)
    - [Editing fields](#editing-fields)
    - [Editing all paths](#editing-all-paths)
---

# `tbg edit [arg]`
#### args: `path/to/images/dir`, `all`, `fields`

`edit` command edits **tbg**'s currently used config. If the `config` subcommand is specified, it will edit the config specified by that subcommand instead.

The changes are specified by `--`flags such as `--alignment`, `--opacity`, etc.

# Subcommands
1. `config [arg]`
    - args: `path/to/config.yaml`, `default`
    - instead of using the currently used config, **tbg** will edit the config specified by this subcommand
    - default config is the `config.yaml` that was auto generated by **tbg** on initial execution. It is on the same path as the **tbg** executable

# Valid Flags
1. `--alignment [arg]`
    - args: `topRight`, `top`, `topLeft`, `left`, `center`, `right`, `bottomLeft`, `bottom`, `bottomRight`

    - if edit arg is `path/to/images/dir` or `all`, it will add flags to that path (or all paths) after a pipe `|`
        - example: `path/to/images/dir` --> `path/to/images/dir | center fill 0.5`
    - if edit arg is `fields`, it will edit the `default_alignment` field in the config

2. `--stretch [arg]`
    - args: `none`, `fill`, `uniform`, `uniformToFill`

    - if edit arg is `path/to/images/dir` or `all`, it will add flags to that path (or all paths) after a pipe `|`
    - if edit arg is `fields`, it will edit the `default_stretch` field in the config
3. `--opacity [arg]`
    - args: any float between 0 and 1 (inclusive)

    - if edit arg is `path/to/images/dir` or `all`, it will add flags to that path (or all paths) after a pipe `|`
    - if edit arg is `fields`, it will edit the `default_opacity` field in the config
4. `--profile [arg]`
    - args: `default`, `list-n` where n is the list index Windows Terminal uses to identify a profile

    - regardless of edit arg, it will edit the `profile` field in the config
5. `--interval [arg]`
    - args: any positive integer

    - regardless of edit arg, it will edit the `interval` field in the config

# Walkthroughs
### Editing single paths
Let's say this is the currently used config:
```
image_col_paths:
- path/to/images/dir1
- path/to/images/dir2

profile: default
interval: 30

default_alignment: center
default_stretch: fill
default_opacity: 0.1
```
If we run:
```
tbg edit path/to/images/dir1 --alignment right --stretch fill --opacity 0.5
```
It will find `path/to/images/dir1` in `image_col_paths` field and add flags to it like this:
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2

profile: default
interval: 30

default_alignment: center
default_stretch: uniform
default_opacity: 0.1
```
Now let's run this:
```
tbg edit path/to/images/dir2 --alignment left
```
It will find `path/to/images/dir2` in `image_col_paths` field and add flags to it like this:
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: default
interval: 30

default_alignment: center
default_stretch: uniform
default_opacity: 0.1
```
Note that even though only `--alignment` flag, 3 flags were added. This is by design. The rest of the unspecified fields are inherited from the default flag fields.

Now let's try editing profile and interval fields like this:
```
tbg edit path/to/images/dir1 --profile list-1 --interval 5
```
The config will be edited to look like this:
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: list-1
interval: 5

default_alignment: center
default_stretch: uniform
default_opacity: 0.1
```
Note that even though a path was specified, it did not add `--profile` or `--interval` flags to it. This is because `--profile` and `--interval` is **ALWAYS** edited on a config level, never on a per path level. Only `--alignment`, `--stretch`, and `--opacity` can be edited on both a per path level and on a config level. More information on editing `-a`, `-s`, and `-o` on a config level on next walkthrough

### Editing fields
If you want to edit the default flag fields, you have to use the `fields` arg. Let's continue with our config
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: list-1
interval: 5

default_alignment: center
default_stretch: uniform
default_opacity: 0.1
```
Now let's run this:
```
tbg edit fields --alignment topRight
```
It will edit the `default_alignment` field in the config to look like this:
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: list-1
interval: 5

default_alignment: topRight
default_stretch: uniform
default_opacity: 0.1
```
This also applies to the other two default flag fields:
```
tbg edit fields --opacity 0.5 --stretch uniformToFill
```
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: list-1
interval: 5

default_alignment: topRight
default_stretch: uniformToFill
default_opacity: 0.5
```
#### Editing all paths
You can assign flags to all flags by specifying the `edit` arg as `all`. Let's continue using our config
```
image_col_paths:
- path/to/images/dir1 | right fill 0.5
- path/to/images/dir2 | left uniform 1

profile: list-1
interval: 5

default_alignment: topRight
default_stretch: uniformToFill
default_opacity: 0.5
```
If we do:
```
tbg edit all --alignment top
```
It will edit all paths to have an alignment of `top`
```
image_col_paths:
- path/to/images/dir1 | top fill 0.5
- path/to/images/dir2 | top uniform 1

profile: list-1
interval: 5

default_alignment: topRight
default_stretch: uniformToFill
default_opacity: 0.5
```
This also applies to the other two flags:
```
tbg edit all --opacity 0.5 --stretch fill
```
```
image_col_paths:
- path/to/images/dir1 | top fill 0.5
- path/to/images/dir2 | top fill 0.5

profile: list-1
interval: 5

default_alignment: topRight
default_stretch: uniformToFill
default_opacity: 0.5
```
Note again that `--profile` and `--interval` edits the fields on a config level, even if you specify `all`. It will not affect the paths.
```
tbg edit all --profile default --interval 10
```
```
image_col_paths:
- path/to/images/dir1 | top fill 0.5
- path/to/images/dir2 | top fill 0.5

profile: default
interval: 10

default_alignment: topRight
default_stretch: uniformToFill
default_opacity: 0.5
```
